<div class="page-container">
  <header class="page-header">
    <h2>Encuestas y Clima Laboral</h2>

    <button class="btn btn-primary" (click)="openCreateDialog()">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
        <path
          d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
      </svg>
      <span>Crear Nueva Encuesta</span>
    </button>
  </header>

  <div *ngIf="isLoading" style="padding: 20px; text-align: center;">
    Cargando encuestas...
  </div>

  <div *ngIf="!isLoading && surveys.length === 0" style="padding: 40px; text-align: center; color: #888;">
    No hay encuestas creadas.
  </div>

  <div class="survey-list" @listAnimation *ngIf="!isLoading && surveys.length > 0">
    <div class="survey-item header">
      <span>TÃ­tulo de la Encuesta</span>
      <span>Respuestas</span>
      <span>Fecha de CreaciÃ³n</span>
      <span>Estado</span>
      <span>Acciones</span>
    </div>

    <div *ngFor="let survey of surveys" class="survey-item">

      <span class="survey-title">{{ survey.titulo }}</span>

      <span>{{ getTotalVotes(survey) }} votos</span>

      <span>{{ survey.createdAt | date:'dd MMM, yyyy' }}</span>

      <div>
        <span class="status-badge" [ngClass]="survey.activa ? 'status-activa' : 'status-cerrada'">
          {{ survey.activa ? 'Activa' : 'Cerrada' }}
        </span>
      </div>

      <div class="actions">
        <button class="btn-icon" title="Ver Resultados">ğŸ“ˆ</button>
        <button class="btn-icon" title="Editar">âœï¸</button>
        <button class="btn-icon btn-danger" title="Eliminar" (click)="deleteSurvey(survey.id)">ğŸ—‘ï¸</button>
      </div>

    </div>
  </div>
</div>