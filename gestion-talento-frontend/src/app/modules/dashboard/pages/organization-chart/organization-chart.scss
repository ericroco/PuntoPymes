/* --- CONTENEDOR PRINCIPAL CON FONDO SUTIL --- */
.org-chart-container {
  background: linear-gradient(to bottom right, #f8f9fa, #e9ecef);
  /* Fondo moderno */
  border-radius: 16px;
  padding: 3rem;
  overflow: auto;
  min-height: 600px;
  display: flex;
  justify-content: center;
  align-items: flex-start;
  /* Alineado arriba para empezar */
  box-shadow: inset 0 0 20px rgba(0, 0, 0, 0.05);
  cursor: grab;
  /* Indica que se puede mover (si implementas drag después) */

  &:active {
    cursor: grabbing;
  }
}

/* --- ESTRUCTURA DEL ÁRBOL --- */
.org-chart ul {
  padding-top: 20px;
  position: relative;
  transition: all 0.5s;
  display: flex;
  justify-content: center;
}

.org-chart li {
  float: left;
  text-align: center;
  list-style-type: none;
  position: relative;
  padding: 20px 10px 0 10px;
  /* Más espacio horizontal */
  transition: all 0.5s;
}

/* --- DIBUJO DE LÍNEAS CURVAS (LA MAGIA) --- */
.org-chart li::before,
.org-chart li::after {
  content: '';
  position: absolute;
  top: 0;
  right: 50%;
  border-top: 2px solid #ccc;
  /* Línea más suave */
  width: 50%;
  height: 20px;
}

.org-chart li::after {
  right: auto;
  left: 50%;
  border-left: 2px solid #ccc;
}

/* Curvatura de las líneas */
.org-chart li:only-child::after,
.org-chart li:only-child::before {
  display: none;
}

.org-chart li:first-child::before,
.org-chart li:last-child::after {
  border: 0 none;
}

.org-chart li:last-child::before {
  border-right: 2px solid #ccc;
  border-radius: 0 10px 0 0;
  /* Curva */
}

.org-chart li:first-child::after {
  border-radius: 10px 0 0 0;
  /* Curva */
}

/* Línea vertical hacia abajo desde los padres */
.org-chart ul ul::before {
  content: '';
  position: absolute;
  top: 0;
  left: 50%;
  border-left: 2px solid #ccc;
  width: 0;
  height: 20px;
}

/* --- DISEÑO DE LA TARJETA (NODO) --- */
.node-wrapper {
  display: inline-block;
  position: relative;
  z-index: 2;
}

.node-content {
  background: white;
  width: 220px;
  /* Ancho fijo para uniformidad */
  padding: 15px;
  border-radius: 12px;
  border: 1px solid rgba(0, 0, 0, 0.05);
  box-shadow: 0 4px 15px rgba(0, 0, 0, 0.05);
  /* Sombra suave */
  transition: all 0.3s cubic-bezier(0.25, 0.8, 0.25, 1);
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 10px;
  cursor: pointer;
  position: relative;

  &:hover {
    transform: translateY(-8px);
    /* Efecto levitación */
    box-shadow: 0 12px 25px rgba(0, 0, 0, 0.1);
    border-color: var(--color-primary);
  }
}

/* Estilos de la imagen */
.avatar-wrapper {
  position: relative;

  img {
    width: 64px;
    height: 64px;
    border-radius: 50%;
    object-fit: cover;
    border: 3px solid white;
    box-shadow: 0 2px 8px rgba(0, 0, 0, 0.15);
  }

  /* Indicador de estado (opcional) */
  .status-indicator {
    position: absolute;
    bottom: 2px;
    right: 2px;
    width: 14px;
    height: 14px;
    background-color: #2ecc71;
    /* Verde online */
    border: 2px solid white;
    border-radius: 50%;
  }
}

/* Tipografía */
.node-info {
  text-align: center;

  .node-name {
    font-weight: 700;
    font-size: 1rem;
    color: #2c3e50;
    margin-bottom: 4px;
  }

  .node-title {
    font-size: 0.85rem;
    color: #7f8c8d;
    font-weight: 500;
  }
}

/* --- BORDES SUPERIORES POR NIVEL --- */
.level-ceo {
  border-top: 4px solid #8e44ad;
}

/* Morado */
.level-manager {
  border-top: 4px solid #e67e22;
}

/* Naranja */
.level-employee {
  border-top: 4px solid #3498db;
}

/* Azul */

/* --- BOTÓN DE EXPANDIR/COLAPSAR --- */
.toggle-btn {
  position: absolute;
  bottom: -15px;
  /* Colgando de la tarjeta */
  left: 50%;
  transform: translateX(-50%);
  width: 24px;
  height: 24px;
  background-color: white;
  border: 2px solid #ccc;
  border-radius: 50%;
  display: flex;
  align-items: center;
  justify-content: center;
  cursor: pointer;
  font-size: 14px;
  color: #666;
  transition: all 0.2s;
  z-index: 10;

  &:hover {
    background-color: var(--color-primary);
    color: white;
    border-color: var(--color-primary);
  }
}