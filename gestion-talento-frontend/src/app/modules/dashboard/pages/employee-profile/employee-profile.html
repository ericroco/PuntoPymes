<div class="page-container">
  <header class="profile-header">
    <img [src]="employee.avatar" alt="Avatar" class="avatar">
    <div class="info">
      <h1>{{ employee.name }}</h1>
      <p>{{ employee.role }} | {{ employee.department }}</p>
    </div>
    <button class="btn btn-secondary">Exportar Perfil a PDF</button>
  </header>

  <section class="kpi-grid">
    <div *ngFor="let kpi of kpis" class="kpi-card">
      <span class="kpi-label">{{ kpi.label }}</span>
      <span class="kpi-value">{{ kpi.value }}</span>
    </div>
  </section>

  <div class="details-grid">
    <div class="details-section">
      <h3>Metas Asignadas</h3>
      <div class="goals-list">
        <div *ngFor="let goal of goals" class="goal-card">
          <h4 class="goal-title">{{ goal.title }}</h4>
          <div class="progress-bar-container">
            <div class="progress-bar" [style.width.%]="goal.progress" [style.background-color]="goal.statusColor"></div>
          </div>
          <span class="progress-text">{{ goal.progress }}% completado</span>
        </div>
      </div>
    </div>
    <section class="details-section document-section">
      <div class="section-header">
        <h3>Gesti√≥n de Documentos</h3>
        <div class="filter-controls">
          <label for="doc-type-filter">Filtrar por tipo:</label>
          <select id="doc-type-filter" class="filter-select">
            <option value="todos">Todos los tipos</option>
            <option value="Certificaci√≥n Externa">Certificaci√≥n Externa</option>
            <option value="Capacitaci√≥n Interna">Capacitaci√≥n Interna</option>
            <option value="Documento Legal">Documento Legal</option>
            <option value="Reconocimiento Interno">Reconocimiento Interno</option>
          </select>
        </div>
        <button class="btn btn-secondary" (click)="openAddDocumentDialog()">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
            <path
              d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
          </svg>
          <span>A√±adir Documento</span>
        </button>
      </div>
      <div class="document-list">
        <div class="document-item header">
          <span>Nombre del Archivo / Certificado</span>
          <span>Tipo</span>
          <span>Origen</span>
          <span>Fecha</span>
          <span>Acciones</span>
        </div>
        <div *ngFor="let doc of unifiedDocuments" class="document-item">
          <div class="file-info">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20" fill="currentColor">
              <path fill-rule="evenodd"
                d="M3 3.5A1.5 1.5 0 014.5 2h6.879a1.5 1.5 0 011.06.44l4.122 4.12A1.5 1.5 0 0117 7.622V16.5A1.5 1.5 0 0115.5 18h-11A1.5 1.5 0 013 16.5v-13zM11.5 2.5v1.625c0 .414.336.75.75.75H14.5v.001l-3-3z"
                clip-rule="evenodd" />
            </svg>
            <span>{{ doc.name }}</span>
          </div>
          <span>{{ doc.type }}</span>
          <td>
            <span class="origin-badge" [ngClass]="doc.origin === 'Empresa' ? 'origin-empresa' : 'origin-empleado'">
              {{ doc.origin }}
            </span>
          </td>
          <span>{{ doc.date | date:'dd MMM, yyyy' }}</span>
          <div class="actions">
            <button class="btn-icon" title="Descargar">üì•</button>
            <button *ngIf="doc.canDelete" class="btn-icon btn-danger" title="Eliminar">üóëÔ∏è</button>
          </div>
        </div>
      </div>
    </section>

  </div>
  <section class="details-section salary-section">
    <h3>Historial Salarial y Compensaci√≥n</h3>
    <div class="document-list">
      <div class="document-item header">
        <span>Fecha</span>
        <span>Tipo de Movimiento</span>
        <span>Monto (USD)</span>
        <span class="comments">Comentarios</span>
      </div>
      <div *ngFor="let item of salaryHistory" class="document-item">
        <span>{{ item.date | date:'dd MMM, yyyy' }}</span>
        <span>{{ item.type }}</span>
        <span class="salary">{{ item.amount | currency:'USD':'symbol':'1.2-2' }}</span>
        <span class="comments">{{ item.comments }}</span>
      </div>
    </div>
  </section>

  <div class="details-section">
    <h3>Evaluaci√≥n del Administrador</h3>
    <div class="evaluation-form">
      <textarea placeholder="A√±adir notas sobre el desempe√±o..."></textarea>
      <div class="recommendation">
        <label>Recomendaci√≥n:</label>
        <select>
          <option>Mantener Posici√≥n</option>
          <option>Considerar para Aumento</option>
          <option>Considerar para Ascenso</option>
        </select>
      </div>
      <button class="btn btn-primary">Guardar Evaluaci√≥n</button>
    </div>
  </div>

</div>