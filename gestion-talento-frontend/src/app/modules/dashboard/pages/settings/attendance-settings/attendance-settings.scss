/* ==========================================================================
   TALENTRACK - ATTENDANCE SETTINGS (CARD STYLE)
   ========================================================================== */

// --- 1. CONFIGURACIÓN DE PÁGINA ---
.settings-subpage-container {
  padding: var(--spacing-xl);
  max-width: 900px; // Un poco más ancho para las tarjetas
  margin: 0 auto;
  animation: fadeIn 0.4s ease-out;
  padding-bottom: 120px;
}

.description {
  color: var(--color-text-secondary);
  margin-bottom: 2rem;
  font-size: 0.95rem;
  max-width: 700px;
  line-height: 1.5;
}

// --- 2. TARJETAS DE CONFIGURACIÓN (EL CAMBIO PRINCIPAL) ---
.settings-card {
  background-color: var(--color-surface);
  border-radius: 16px; // Bordes redondeados
  padding: 24px;
  margin-bottom: 24px; // Espacio entre tarjetas
  box-shadow: var(--shadow-sm); // Sombra suave para elevación
  border: 1px solid var(--color-border-light);
  transition: transform 0.2s ease, box-shadow 0.2s ease;

  &:hover {
    box-shadow: var(--shadow-md); // Efecto sutil al pasar el mouse
  }

  // Encabezado de la tarjeta (Icono + Título)
 // Encabezado de la tarjeta (Icono + Título)
  .card-header {
    display: flex;
    align-items: center;
    
    // FIX: Alineación a la izquierda (Inicio) para juntar icono y texto
    justify-content: flex-start; 
    
    gap: 16px; // Espacio entre icono y texto
    margin-bottom: 20px;
    border-bottom: 1px solid var(--color-border-light);
    padding-bottom: 16px;

    .card-icon {
      color: var(--color-primary);
      background-color: var(--color-primary-light);
      padding: 8px;
      border-radius: 8px;
      width: 40px; height: 40px; // Ligeramente más grande
      font-size: 22px;
      display: flex; align-items: center; justify-content: center;
      
      // Asegura que el icono no se deforme
      flex-shrink: 0; 
    }

    h4 {
      margin: 0;
      font-weight: 700;
      font-size: 1.1rem;
      color: var(--color-text-primary);
      
      // Asegura alineación de texto a la izquierda
      text-align: left; 
    }
  }
}

// --- 3. INPUTS SOFT UI (Global) ---
::ng-deep .mat-mdc-form-field {
  .mat-mdc-text-field-wrapper {
    background-color: #F3F4F6 !important;
    border-radius: 12px !important;
    height: 48px;
    padding: 0 12px;
    border: 1px solid transparent;
    display: flex; align-items: center;

    .mdc-notched-outline,
    .mdc-notched-outline__leading,
    .mdc-notched-outline__notch,
    .mdc-notched-outline__trailing { border: none !important; }
  }

  &.mat-focused .mat-mdc-text-field-wrapper {
    background-color: white !important;
    border-color: var(--color-primary) !important;
    box-shadow: 0 0 0 3px var(--color-primary-subtle);
  }

  .mat-mdc-form-field-flex {
    height: 100%;
    align-items: center !important;
    padding: 0 !important;
  }

  // Centrado de Labels
  .mdc-floating-label:not(.mdc-floating-label--float-above) {
    top: 50% !important;
    transform: translateY(-50%) !important;
    margin-bottom: 0 !important;
  }

  .mat-mdc-form-field-subscript-wrapper { margin-top: 4px; }
}

.form-row {
  display: flex; gap: 1.5rem; align-items: flex-start;
  .form-field { flex: 1; max-width: 250px; }
  @media (max-width: 600px) { flex-direction: column; .form-field { max-width: 100%; width: 100%; } }
}

.tolerance-field { width: 100%; max-width: 300px; }

// --- 4. OPCIONES DE RESTRICCIÓN ---
.restriction-options {
  display: flex; flex-direction: column; gap: 12px; margin-bottom: 1rem;

  .checkbox-row {
    display: flex; align-items: center; flex-wrap: wrap;
    
    .link-btn {
      color: var(--color-primary); margin-left: 12px; font-weight: 600;
      mat-icon { font-size: 18px; margin-right: 4px; }
    }
  }
}

// --- 5. SECCIÓN WIFI ANIDADA ---
.wifi-nested-section {
  background-color: #F9FAFB; // Gris muy claro para diferenciar dentro de la tarjeta blanca
  border-radius: 12px;
  padding: 20px;
  border: 1px solid var(--color-border-light);
  margin-top: 10px;

  h5 {
    font-weight: 700; color: var(--color-text-secondary); margin: 0 0 12px 0; font-size: 0.85rem; text-transform: uppercase;
  }

  .wifi-list-box {
    background: white; // Lista blanca sobre fondo gris
    border: 1px solid var(--color-border-light);
    border-radius: 12px;
    overflow: hidden; // Para recortar bordes de items
  }

  mat-list { padding-top: 0; }

  mat-list-item {
    height: 56px !important;
    border-bottom: 1px solid #E5E7EB; // Línea gris visible
    
    &:last-child { border-bottom: none; }

    span[matListItemTitle] { font-size: 0.95rem; font-weight: 500; }
    
    button[mat-icon-button] {
      color: var(--color-text-secondary);
      &:hover { background-color: #FEE2E2; color: #EF4444; }
    }
  }
}

// Formulario Añadir WiFi
.add-wifi-form {
  display: flex; align-items: center; gap: 1rem; margin-top: 1rem;

  .condensed-field { flex-grow: 1; }
}

// --- 6. BOTONES (PILL SHAPE) ---
button[mat-flat-button], 
button[mat-stroked-button] {
  border-radius: 999px !important;
  height: 44px;
  padding: 0 24px;
  font-weight: 600;
  font-family: var(--font-family-base);
  
  mat-icon { margin-right: 6px; }
}

button[color="primary"][mat-flat-button] {
  background: linear-gradient(135deg, var(--color-primary), var(--color-primary-dark));
  box-shadow: 0 4px 12px rgba(var(--color-primary-rgb), 0.3);
  &:hover { box-shadow: 0 6px 16px rgba(var(--color-primary-rgb), 0.4); }
}

button[mat-stroked-button] {
  border-color: var(--color-border);
  color: var(--color-text-secondary);
  background: white;
  &:hover { border-color: var(--color-primary); color: var(--color-primary); background: #F3F4F6; }
}

// Footer Sticky
.actions-footer {
  position: fixed; bottom: 0; left: 0; width: 100%;
  background-color: var(--color-surface);
  border-top: 1px solid var(--color-border);
  padding: 1rem 2rem;
  display: flex; justify-content: flex-end;
  z-index: 90;
  box-shadow: 0 -4px 20px rgba(0,0,0,0.05);
  @media (min-width: 1024px) { padding-left: calc(280px + 2rem); }
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(10px); }
  to { opacity: 1; transform: translateY(0); }
}