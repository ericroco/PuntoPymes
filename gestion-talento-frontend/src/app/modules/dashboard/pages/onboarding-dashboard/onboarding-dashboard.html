<div class="page-container onboarding-dashboard">
  <header class="welcome-header">
    <h1>¡Bienvenido/a a Punto Pymes!</h1>
    <p>Completa estos pasos iniciales para configurar tu cuenta y empezar.</p>
  </header>

  <mat-stepper orientation="vertical" linear #stepper>
    <mat-step *ngFor="let task of onboardingTasks; let i = index" [completed]="task.isComplete">
      <ng-template matStepLabel>
        <span [class.task-complete]="task.isComplete">{{ task.title }}</span>
      </ng-template>
      <div class="step-content">
        <p>{{ task.description }}</p>
        <div class="step-actions">
          <a *ngIf="task.link" mat-stroked-button color="primary" [routerLink]="task.link">
            Ir a la sección <mat-icon>arrow_forward</mat-icon>
          </a>
          <mat-checkbox *ngIf="!task.link" [(ngModel)]="task.isComplete" (ngModelChange)="toggleTaskCompletion(task)" color="primary">
             Marcar como completada
          </mat-checkbox>
          </div>
      </div>
    </mat-step>

    <mat-step label="¡Todo Listo!">
       <div class="step-content final-step">
         <p>Has completado todos los pasos iniciales. ¡Bienvenido/a al equipo!</p>
         <button mat-flat-button color="primary" routerLink="/dashboard/overview">Ir al Dashboard Principal</button>
       </div>
    </mat-step>
  </mat-stepper>

</div>